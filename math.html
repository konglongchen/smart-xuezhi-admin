
<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>文档编辑</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <h2>📝 编辑文档</h2>
  <div class="editor">
    <label for="titleInput">标题：</label>
    <input type="text" id="titleInput" class="title-input" placeholder="请输入标题" />

    <label for="refInput">文号：</label>
    <input type="text" id="refInput" class="ref-input" placeholder="请输入文号" />

    <label for="bodyInput">正文：</label>
    <textarea id="bodyInput" class="body-input" placeholder="请输入正文内容"></textarea>

    <div class="btn-group">
      <button onclick="saveContent()">💾 保存</button>
      <button onclick="exportPDF()">📄 导出 PDF</button>
    </div>
  </div>

  <script>
    // 自动保存
    const titleInput = document.getElementById("titleInput");
    const refInput = document.getElementById("refInput");
    const bodyInput = document.getElementById("bodyInput");

    // 加载保存内容
    titleInput.value = localStorage.getItem("doc_title") || "";
    refInput.value = localStorage.getItem("doc_ref") || "";
    bodyInput.value = localStorage.getItem("doc_body") || "";

    function saveContent() {
      localStorage.setItem("doc_title", titleInput.value);
      localStorage.setItem("doc_ref", refInput.value);
      localStorage.setItem("doc_body", bodyInput.value);
      alert("内容已保存！");
    }

    function exportPDF() {
      const title = titleInput.value;
      const ref = refInput.value;
      const body = bodyInput.value;

      const doc = new window.jspdf.jsPDF();
      doc.setFont("simsun", "normal");
      doc.setFontSize(18);
      doc.setTextColor(200, 0, 0);
      doc.text(title, 20, 30);

      doc.setFontSize(12);
      doc.setTextColor(0, 0, 0);
      doc.text(ref, 20, 40);

      const lines = doc.splitTextToSize(body, 170);
      doc.text(lines, 20, 55);
      doc.save("document.pdf");
    }
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</body>
</html>
