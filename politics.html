
<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>æ–‡æ¡£ç¼–è¾‘</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <h2>ğŸ“ ç¼–è¾‘æ–‡æ¡£</h2>
  <div class="editor">
    <label for="titleInput">æ ‡é¢˜ï¼š</label>
    <input type="text" id="titleInput" class="title-input" placeholder="è¯·è¾“å…¥æ ‡é¢˜" />

    <label for="refInput">æ–‡å·ï¼š</label>
    <input type="text" id="refInput" class="ref-input" placeholder="è¯·è¾“å…¥æ–‡å·" />

    <label for="bodyInput">æ­£æ–‡ï¼š</label>
    <textarea id="bodyInput" class="body-input" placeholder="è¯·è¾“å…¥æ­£æ–‡å†…å®¹"></textarea>

    <div class="btn-group">
      <button onclick="saveContent()">ğŸ’¾ ä¿å­˜</button>
      <button onclick="exportPDF()">ğŸ“„ å¯¼å‡º PDF</button>
    </div>
  </div>

  <script>
    // è‡ªåŠ¨ä¿å­˜
    const titleInput = document.getElementById("titleInput");
    const refInput = document.getElementById("refInput");
    const bodyInput = document.getElementById("bodyInput");

    // åŠ è½½ä¿å­˜å†…å®¹
    titleInput.value = localStorage.getItem("doc_title") || "";
    refInput.value = localStorage.getItem("doc_ref") || "";
    bodyInput.value = localStorage.getItem("doc_body") || "";

    function saveContent() {
      localStorage.setItem("doc_title", titleInput.value);
      localStorage.setItem("doc_ref", refInput.value);
      localStorage.setItem("doc_body", bodyInput.value);
      alert("å†…å®¹å·²ä¿å­˜ï¼");
    }

    function exportPDF() {
      const title = titleInput.value;
      const ref = refInput.value;
      const body = bodyInput.value;

      const doc = new window.jspdf.jsPDF();
      doc.setFont("simsun", "normal");
      doc.setFontSize(18);
      doc.setTextColor(200, 0, 0);
      doc.text(title, 20, 30);

      doc.setFontSize(12);
      doc.setTextColor(0, 0, 0);
      doc.text(ref, 20, 40);

      const lines = doc.splitTextToSize(body, 170);
      doc.text(lines, 20, 55);
      doc.save("document.pdf");
    }
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</body>
</html>
